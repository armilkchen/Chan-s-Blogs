---
title: 上线就翻车：AI工具站部署实录
date: 2025-10-28T20:10:00+08:00
updated: 2025-10-28T20:10:00+08:00
keywords: ["seo", "vercel", "AI工具站"]
featured: true
summary: "上线就翻车：AI工具站部署实录"
---

这几天一直在折腾一个AI工具站。之前的网站大多依靠广告收入，都没接入付费功能。唯一一个图片站接入了AI，但因为想太多最终没上线。

这次做站，最大的感触是必须多实操。不管能不能赚钱，把实操经验学到手就不亏。

接下来说说我踩的坑。现在开发AI工具站已经不是什么难事了，一步步指引Cursor完成任务，就能顺利拿到MVP版本。对于支付、邮件等集成组件，我感觉比以前容易多了。以前还得借助MCP的Context7获取最新文档才能顺利接入，这次全程用Cursor就搞定了。

这次的问题主要出在部署上。本地调通后，我把项目部署到Vercel。项目的服务流程是：用户填表单→完成Stripe支付→我将表单和prompt发给大模型生成报告→通过Resend发送到用户邮箱。本地流程很丝滑，但线上支付完后却迟迟收不到报告。

于是我开始debug。一开始发现大模型的API没有扣费，说明根本没收到线上请求。我立马想到会不会是网络问题——毕竟我的API供应商是硅基流动，而且用的不是国际版。（不过我一直否认这个怀疑，因为之前有个免费站一直在用硅基流动的接口，也是部署在Vercel上，没出过问题。我不确定是不是模型不同导致的。）换成官方的DeepSeek接口后，发现API扣费了，但还是没收到邮件。

然后我检查Resend有没有触发，发现也没有，检查了线下版本和线上版本也没有区别，一整天左右脑互搏。
最后才意识到问题出在我完全没怀疑的地方：**Vercel 的函数时间限制**。
——原来Vercel的函数有时间限制，免费版10秒内没返回就直接中止。而我用的模型规模比较大，一般返回时间在30秒到1分钟之间，所以请求发出去就被终止了，后续动作自然丢失了。

发现问题后，只能解决：要么升级，要么改架构。最后决定拆分架构——纯前端放在Vercel，另一个Worker型项目放在Cloudflare，用Worker+Queue实现。这里需要花5美元开通Queue，但相比之下已经非常便宜了。后期打算所有项目都用Cloudflare部署，赛博菩萨不是开玩笑的。

改完后再调试就没问题了，一切通顺。所以一个项目能否赚钱固然重要，但更重要的是你是否真的走完了闭环。从idea到上线，中间的坑才是真正的经验积累。因为下一次机会来的时候，你不会再慌。